<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuérdame</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1976d2">

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(reg => console.log('✅ Service Worker registrado'))
      .catch(err => console.error('❌ Error al registrar el Service Worker', err));
  }
</script>

</head>
<body>
    <div id="menu-principal">
        <div class="contenedor">
            <h2>Bienvenido a la aplicación de Recuérdame.</h2>
            <p>Si tenes uno de nuestros lentes, en esta aplicación vas a encontrar todo para mejorar tu experiencia y <strong>ejercitar la memoria.</strong></p>
            <p class="enlace"><a href="https://www.recuerdamecpf.lat" target="_blank" class="enlace">Si no conoces Recuérdame obtene mas detalles.</a></p>
            <div id="ficha-paciente" class="contenedor">
    <h3>🧍‍♂️ Ficha del Paciente</h3>
    <p><strong>📇 Nombre:</strong> <span id="ficha-nombre">-</span></p>
    <p><strong>🎂 Edad:</strong> <span id="ficha-edad">-</span></p>
    <p><strong>🧠 Estado cognitivo actual:</strong> <span id="ficha-estado">-</span></p>
    <p><strong>📈 Rendimiento general:</strong> <span id="porcentaje-rendimiento"></span>%</p>
</div>

        </div>
    </div>

    <div id="pantalla-personas" style="display: none;">
        <div class="seccion-registro">
    <div class="titulo-registro" onclick="toggleFormularioPersona()">
        <h1 class="Registro">Personas cargadas</h1>
        <button id="btn-toggle-form" type="button">
            <i data-lucide="plus"></i>
        </button>
    </div>

    <p class="texto-ayuda"><strong>Tocando el + podés agregar personas</strong></p>

    <form id="form-persona" style="display: none;">
        <input type="text" id="nombre" name="nombre" placeholder="Nombre" required>
        <input type="text" id="relacion" name="relacion" placeholder="Relación" required>

        <div class="contenedor-boton-archivo">
            <input type="file" id="foto" name="foto" accept="image/*" required hidden>
            <button type="button" class="button1" onclick="document.getElementById('foto').click()">
                <i data-lucide="image"></i>
                <span class="text">Subir Foto</span>
            </button>
        </div>
        <div class="contenedor-boton-guardar"> 
    <button type="submit" class="button2">Guardar Persona</button>
</div>
    </form>
</div>


    

    <img id="preview" class="preview-foto" style="display: none;"> 
</form>



        <div id="lista-personas">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
        </div>
    </div>
    <div class="espaciador-footer"></div>


    <div id="pantalla-preguntas" style="display: none;">
        <h1 class="Registro">Pregunta del Día</h1>
        <div id="pregunta-container" class="contenedor">
            <p id="pregunta-texto"></p>
            <div id="opciones-respuesta">
                </div>
            <button id="btn-enviar-respuesta" style="display: none;">Enviar Respuesta</button>
            <p id="mensaje-respuesta" style="margin-top: 10px; font-weight: bold;"></p>
            <button id="btn-siguiente-pregunta" style="display: none; margin-top: 10px;">Siguiente Pregunta</button>
        </div>
    </div>

    <div id="pantalla-estadisticas" style="display: none;">
        <h1 class="Registro">Estadísticas</h1>
        <div class="contenedor">
            <h3>Rendimiento General</h3>
            <p>Respuestas Correctas: <span id="correctas-generales"></span></p>
            <p>Respuestas Incorrectas: <span id="incorrectas-generales"></span></p>
            <p>Porcentaje de Acierto: <span id="porcentaje-general"></span>%</p>
            <hr style="width: 100%; margin: 20px 0;">
            <h3>Estadísticas por Pregunta</h3>
            <div id="grafico-estadisticas" style="width: 100%; max-width: 400px; margin: 20px auto;">
                <canvas id="myChart"></canvas>
            </div>
            <div id="lista-estadisticas-preguntas">
                </div>
        </div>
    </div>

    <div id="pantalla-configuracion" style="display: none;">
        <h1 class="Registro">Configuración</h1>
        <p>Aquí puedes ajustar las configuraciones de la aplicación.</p>
        <form id="form-configuracion">
    <input type="text" id="input-nombre-paciente" placeholder="Nombre del paciente" class="Formulario-Paciente">
    <input type="number" id="input-edad-paciente" placeholder="Edad" class="Formulario-Paciente">
    <input type="text" id="input-estado-paciente" placeholder="Estado cognitivo actual" class="Formulario-Paciente">
    <button class="button" type="submit">Guardar Datos del Paciente</button class="Formulario-Paciente">
</form>

    </div>

    <div id="barra-navegacion" style="display: none;">
        <button class="btn-nav" id="btn-nav-personas" onclick="mostrarPantalla('personas')">
            <i data-lucide="users"></i>
        </button>
        <button class="btn-nav" id="btn-nav-preguntas" onclick="mostrarPantalla('preguntas')">
            <i data-lucide="help-circle"></i>
        </button>
        <button class="btn-nav" id="btn-nav-menu" onclick="mostrarPantalla('menu')">
            <i data-lucide="home"></i>
        </button>
        <button class="btn-nav" id="btn-nav-estadisticas" onclick="mostrarPantalla('estadisticas')">
            <i data-lucide="bar-chart-3"></i>
        </button>
        <button class="btn-nav" id="btn-nav-configuracion" onclick="mostrarPantalla('configuracion')">
            <i data-lucide="settings"></i>
        </button>
    </div>

    <script src="app.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
